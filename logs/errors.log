[2025-12-14 13:27:25] ERROR django.request log Internal Server Error: /login/
Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\utils\decorators.py", line 192, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\utils\decorators.py", line 190, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\cuentas\views.py", line 85, in login_view
    intentos = login_limiter.obtener_intentos(ip_address, action)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'RateLimiter' object has no attribute 'obtener_intentos'
[2025-12-18 03:47:23] ERROR django.request log Internal Server Error: /consentimientos/nuevo/
Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\contrib\auth\decorators.py", line 59, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\views.py", line 1898, in consentimiento_crear
    consentimiento.save()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1023, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 304, in consentimiento_post_save
    datos_nuevos=objeto_a_dict(instance),
                 ~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 59, in objeto_a_dict
    elif hasattr(valor, 'url'):  # FileField
         ~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 69, in url
    self._require_file()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 44, in _require_file
    raise ValueError(
        "The '%s' attribute has no file associated with it." % self.field.name
    )
ValueError: The 'documento_respaldo' attribute has no file associated with it.
[2025-12-18 03:52:48] ERROR django.request log Internal Server Error: /consentimientos/nuevo/
Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\contrib\auth\decorators.py", line 59, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\views.py", line 1898, in consentimiento_crear
    consentimiento.save()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1023, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 304, in consentimiento_post_save
    datos_nuevos=objeto_a_dict(instance),
                 ~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 59, in objeto_a_dict
    elif hasattr(valor, 'url'):  # FileField
         ~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 69, in url
    self._require_file()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 44, in _require_file
    raise ValueError(
        "The '%s' attribute has no file associated with it." % self.field.name
    )
ValueError: The 'documento_respaldo' attribute has no file associated with it.
[2025-12-18 03:55:23] ERROR django.request log Internal Server Error: /consentimientos/nuevo/
Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: gestion_consentimiento.persona_id, gestion_consentimiento.tipo

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\contrib\auth\decorators.py", line 59, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\views.py", line 1928, in consentimiento_crear
    consentimiento.save()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\query.py", line 1873, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: UNIQUE constraint failed: gestion_consentimiento.persona_id, gestion_consentimiento.tipo
[2025-12-18 03:55:57] ERROR django.request log Internal Server Error: /consentimientos/nuevo/
Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\contrib\auth\decorators.py", line 59, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\views.py", line 1928, in consentimiento_crear
    consentimiento.save()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1023, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 304, in consentimiento_post_save
    datos_nuevos=objeto_a_dict(instance),
                 ~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 59, in objeto_a_dict
    elif hasattr(valor, 'url'):  # FileField
         ~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 69, in url
    self._require_file()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 44, in _require_file
    raise ValueError(
        "The '%s' attribute has no file associated with it." % self.field.name
    )
ValueError: The 'documento_respaldo' attribute has no file associated with it.
[2025-12-18 03:56:02] ERROR django.request log Internal Server Error: /consentimientos/nuevo/
Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: gestion_consentimiento.persona_id, gestion_consentimiento.tipo

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\contrib\auth\decorators.py", line 59, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\views.py", line 1928, in consentimiento_crear
    consentimiento.save()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\query.py", line 1873, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: UNIQUE constraint failed: gestion_consentimiento.persona_id, gestion_consentimiento.tipo
[2025-12-18 03:58:06] ERROR django.request log Internal Server Error: /consentimientos/nuevo/
Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\contrib\auth\decorators.py", line 59, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\views.py", line 1928, in consentimiento_crear
    consentimiento.save()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1023, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 304, in consentimiento_post_save
    datos_nuevos=objeto_a_dict(instance),
                 ~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 59, in objeto_a_dict
    elif hasattr(valor, 'url'):  # FileField
         ~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 69, in url
    self._require_file()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 44, in _require_file
    raise ValueError(
        "The '%s' attribute has no file associated with it." % self.field.name
    )
ValueError: The 'documento_respaldo' attribute has no file associated with it.
[2025-12-18 04:00:08] ERROR django.request log Internal Server Error: /consentimientos/nuevo/
Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: gestion_consentimiento.persona_id, gestion_consentimiento.tipo

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\contrib\auth\decorators.py", line 59, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\views.py", line 1928, in consentimiento_crear
    consentimiento.save()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\query.py", line 1873, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: UNIQUE constraint failed: gestion_consentimiento.persona_id, gestion_consentimiento.tipo
[2025-12-18 04:04:20] ERROR django.request log Internal Server Error: /consentimientos/nuevo/
Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\contrib\auth\decorators.py", line 59, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\views.py", line 1928, in consentimiento_crear
    consentimiento.save()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1023, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 311, in consentimiento_post_save
    datos_nuevos=objeto_a_dict(instance),
                 ~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 59, in objeto_a_dict
    elif hasattr(valor, 'url'):  # FileField
         ~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 69, in url
    self._require_file()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 44, in _require_file
    raise ValueError(
        "The '%s' attribute has no file associated with it." % self.field.name
    )
ValueError: The 'documento_respaldo' attribute has no file associated with it.
[2025-12-18 04:06:08] ERROR django.request log Internal Server Error: /consentimientos/nuevo/
Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\contrib\auth\decorators.py", line 59, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\views.py", line 1928, in consentimiento_crear
    consentimiento.save()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1023, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 311, in consentimiento_post_save
    datos_nuevos=objeto_a_dict(instance),
                 ~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 59, in objeto_a_dict
    elif hasattr(valor, 'url'):  # FileField
         ~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 69, in url
    self._require_file()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 44, in _require_file
    raise ValueError(
        "The '%s' attribute has no file associated with it." % self.field.name
    )
ValueError: The 'documento_respaldo' attribute has no file associated with it.
[2025-12-18 04:07:13] ERROR django.request log Internal Server Error: /consentimientos/nuevo/
Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: gestion_consentimiento.persona_id, gestion_consentimiento.tipo

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\contrib\auth\decorators.py", line 59, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\views.py", line 1928, in consentimiento_crear
    consentimiento.save()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\query.py", line 1873, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: UNIQUE constraint failed: gestion_consentimiento.persona_id, gestion_consentimiento.tipo
[2025-12-18 04:07:27] ERROR django.request log Internal Server Error: /consentimientos/nuevo/
Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\contrib\auth\decorators.py", line 59, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\views.py", line 1928, in consentimiento_crear
    consentimiento.save()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1023, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 311, in consentimiento_post_save
    datos_nuevos=objeto_a_dict(instance),
                 ~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 59, in objeto_a_dict
    elif hasattr(valor, 'url'):  # FileField
         ~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 69, in url
    self._require_file()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 44, in _require_file
    raise ValueError(
        "The '%s' attribute has no file associated with it." % self.field.name
    )
ValueError: The 'documento_respaldo' attribute has no file associated with it.
[2025-12-18 04:13:50] ERROR django.request log Internal Server Error: /consentimientos/nuevo/
Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\contrib\auth\decorators.py", line 59, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\views.py", line 1915, in consentimiento_crear
    consentimiento = Consentimiento.objects.create(
        persona_id=persona_id_post,
    ...<4 lines>...
        registrado_por=request.user
    )
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\query.py", line 665, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1023, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 311, in consentimiento_post_save
    datos_nuevos=objeto_a_dict(instance),
                 ~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 59, in objeto_a_dict
    elif hasattr(valor, 'url'):  # FileField
         ~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 69, in url
    self._require_file()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 44, in _require_file
    raise ValueError(
        "The '%s' attribute has no file associated with it." % self.field.name
    )
ValueError: The 'documento_respaldo' attribute has no file associated with it.
[2025-12-18 04:15:25] ERROR django.request log Internal Server Error: /consentimientos/nuevo/
Traceback (most recent call last):
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\contrib\auth\decorators.py", line 59, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\views.py", line 1915, in consentimiento_crear
    consentimiento = Consentimiento.objects.create(
        persona_id=persona_id_post,
    ...<4 lines>...
        registrado_por=request.user
    )
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\query.py", line 665, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\base.py", line 1023, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 311, in consentimiento_post_save
    datos_nuevos=objeto_a_dict(instance),
                 ~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\apps\gestion\signals.py", line 59, in objeto_a_dict
    elif hasattr(valor, 'url'):  # FileField
         ~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 69, in url
    self._require_file()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Usuario\Desktop\clinica_juridica\venv\Lib\site-packages\django\db\models\fields\files.py", line 44, in _require_file
    raise ValueError(
        "The '%s' attribute has no file associated with it." % self.field.name
    )
ValueError: The 'documento_respaldo' attribute has no file associated with it.
